/**
 * plugin.js
 *
 */

/*global tinymce:true */

tinymce.PluginManager.add('altoimage', function (editor) {

    function showDialog(imageList) {

        var modalWindow = jQuery('#js-alto-image-manager');
        if (!modalWindow.length) {
            // old style skin
            modalWindow = jQuery('#js-alto-image-manager');
        }

        ls.insertToEditor = function(markup) {
            editor.insertContent(markup);
        }
        if (modalWindow.modal) {
            modalWindow.modal('show');
        } else {
            modalWindow.jqmShow();
        }
    }

    editor.addButton('altoimage', {
        icon: 'image',
        tooltip: 'Insert/edit image',
        onclick: showDialog,
        stateSelector: 'img:not([data-mce-object])'
    });

});

/*global tinymce:true */

//tinymce.PluginManager.add('altoimage', function (editor) {
//
//    function showDialog(imageList) {
//
//        var modalWindow = jQuery('#modal-upload_img');
//        if (!modalWindow.length) {
//            // old style skin
//            modalWindow = jQuery('#window_upload_img');
//        }
//
//        ls.insertToEditor = function(markup) {
//            editor.insertContent(markup);
//        }
//        if (modalWindow.modal) {
//            modalWindow.modal('show');
//        } else {
//            modalWindow.jqmShow();
//        }
//    }
//
//    editor.addButton('altoimage', {
//        icon: 'image',
//        tooltip: 'Insert/edit image',
//        onclick: showDialog,
//        stateSelector: 'img:not([data-mce-object])'
//    });
//
//});